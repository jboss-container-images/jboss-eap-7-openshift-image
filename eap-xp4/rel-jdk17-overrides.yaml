schema_version: 1

name: "jboss-eap-7/eap-xp4-openjdk17-openshift-rhel8"

labels:
    - name: "com.redhat.component"
      value: "jboss-eap-xp4-openjdk17-builder-openshift-rhel8-container"

envs:
     - name: DISABLE_LEGACY_SECURITY
       value: "true"
     - name: AB_JOLOKIA_OFF
       value: "true"
     - name: CONFIGURE_ELYTRON_SSL
       value: "true"
     - name: SSO_FORCE_LEGACY_SECURITY
       value: "false"

modules:
      repositories:
          - name: jdk-modules
            path: ../modules                  
      install:
          - name: jboss.container.openjdk.jdk
            version: "17"
          - name: jboss.container.java.jvm.bash
            version: "2.0"
          - name: jboss.container.eap.galleon.config.mp
            version: "1.0-elytron" 

artifacts:
  - name: maven-repo
    target: maven-repo.zip
    md5: b7de184ff70fed707e12f605459ba8d2

osbs:
  configuration:
    container:
      platforms:
        only:
          - x86_64
          - s390x
          - ppc64le
      compose:
        pulp_repos: true
        signing_intent: release
  repository:
    name: containers/jboss-eap-xp4-openjdk17-builder
    branch: jb-eap-xp4-rhel-8
