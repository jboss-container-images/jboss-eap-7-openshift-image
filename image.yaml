schema_version: 1

name: "jboss-eap-7-tech-preview/eap73-openjdk11-openshift-rhel8"
description: "Red Hat JBoss Enterprise Application Platform 7.3 OpenShift container image"
version: "7.3.0.Beta"
from: "ubi8:8-released"
labels:
    - name: "com.redhat.component"
      value: "jboss-eap-7-eap73-openjdk11-openshift-rhel8-container"
    - name: "io.k8s.description"
      value: "Platform for building and running JavaEE applications on JBoss EAP 7.3"
    - name: "io.k8s.display-name"
      value: "JBoss EAP 7.3"
    - name: "io.openshift.expose-services"
      value: "8080:http"
    - name: "io.openshift.tags"
      value: "builder,javaee,eap,eap7"
    - name: "io.openshift.s2i.scripts-url"
      value: "image:///usr/local/s2i"
    - name: "maintainer"
      value: "Red Hat"
envs:
    - name: HTTPS_ENABLE_HTTP2
      value: "true"
    - name: SCRIPT_DEBUG
      description: If set to true, ensures that the bash scripts are executed with the -x option, printing the commands and their arguments as they are executed.
      example: "false"
ports:
    - value: 8443
modules:
      repositories:
          - name: cct_module
            git:
                  url: https://github.com/jboss-openshift/cct_module.git
                  ref: master
          - name: jboss-eap-modules
            git:
                  url: https://github.com/jboss-container-images/jboss-eap-modules.git
                  ref: master
          - name: jboss-eap-7-image
            git:
                  url: https://github.com/jboss-container-images/jboss-eap-7-image.git
                  ref: eap73
      install:
          - name: jboss.container.openjdk.jdk
            version: "11"
          - name: jboss.container.maven.35.bash
            version: "3.5"
          - name: eap-7.3-latest
          - name: dynamic-resources
          - name: jboss.container.eap.s2i.bash
          - name: os-java-jolokia
          - name: jboss.eap.cd.jolokia
          - name: os-eap7-openshift
          - name: jboss.eap.config.openshift
            version: "EAP7.3.0.Beta"
          - name: jboss.eap.cd.openshift.modules
          - name: os-eap7-ping
          - name: os-eap-activemq-rar
            version: "1.1"
          - name: jboss.container.java.jvm.bash
          - name: os-eap-launch
          - name: os-eap7-launch
          - name: jboss.eap.cd.openshift.launch
          - name: os-eap-datasource
            version: "1.0"
          - name: jboss.eap.cd.logging
          - name: jboss.eap.config.mp-config
          - name: jboss.eap.config.jgroups
          - name: jboss.eap.config.elytron
          - name: jboss.eap.config.tracing
          - name: os-eap-probes
            version: '2.0'
          - name: os-eap-sso
          - name: os-eap70-sso
          - name: os-eap-deployment-scanner
          - name: os-eap-extensions
          - name: openshift-layer
          - name: openshift-passwd
          - name: os-logging
          - name: jboss.container.eap.prometheus.config
            version: '7.2'
          - name: os-eap-txnrecovery.run
            version: 'python3'
          - name: os-eap-python
            version: '3.6'
packages:
      content_sets_file: content_sets.yml
run:
      user: 185
      cmd:
          - "/opt/eap/bin/openshift-launch.sh"
osbs:
      configuration:
            container_file: container.yaml
      repository:
            name: containers/jboss-eap-7-tech-preview
            branch: jb-eap-7.3-openshift-rhel-8
